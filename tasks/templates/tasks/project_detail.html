{% extends 'base.html' %}

{% block breadcrumb %}
<ol class="breadcrumb">
    <li class="breadcrumb-item"><a href="{% url 'dashboard' %}">Dashboard</a></li>
    <li class="breadcrumb-item"><a href="{% url 'tasks:project_list' %}">Projects</a></li>
    <li class="breadcrumb-item active">{{ project.name }}</li>
</ol>
{% endblock %}
{% block content %}
<div class="d-flex justify-content-between align-items-center mb-4">
    <h2>{{ project.name }}</h2>
    <div>
        {% if user_role == 'admin' %}
            <a href="{% url 'tasks:edit_project' project.pk %}" class="btn btn-warning me-2">
                <i class="bi bi-pencil"></i> Edit Project
            </a>
            <a href="{% url 'tasks:delete_project' project.pk %}" class="btn btn-danger">
                <i class="bi bi-trash"></i> Delete Project
            </a>
        {% endif %}
        <a href="{% url 'tasks:create_task' project.id %}" class="btn btn-primary">
            <i class="bi bi-plus-lg"></i> Add Task
        </a>
    </div>
</div>

<div class="row">
    <div class="col-md-4">
        <h4 class="bg-secondary text-white p-2 rounded text-center">To Do</h4>
        {% for task in tasks_todo %}
            {% include 'tasks/includes/task_card.html' %}
        {% endfor %}
    </div>

    <div class="col-md-4">
        <h4 class="bg-primary text-white p-2 rounded text-center">In Progress</h4>
        {% for task in tasks_inprogress %}
            {% include 'tasks/includes/task_card.html' %}
        {% endfor %}
    </div>

    <div class="col-md-4">
        <h4 class="bg-success text-white p-2 rounded text-center">Done</h4>
        {% for task in tasks_done %}
            {% include 'tasks/includes/task_card.html' %}
        {% endfor %}
    </div>
</div>
{% endblock %}
